<link rel="import" href="polymer.html">

<polymer-element name="ds-personfulledit" attributes="age name role contactpic recordid indexurl blogpage twitterhandle department email telephone notes saveurl cancelurl pagebase">
  <template>
    <img style="width:256px; height:256px; border: 1px solid black;" src="{{pagebase}}{{contactpic}}" />
    <h2>Edit Employee details</h2>
    <hr />
    
    <form method="post" on-submit="{{formSubmit}}" action="{{saveurl}}">
      <input type="hidden" value="{{contactpic}}" id="ContactPic" name="ContactPic" />

      <label>Record ID</label>
      <input type="text" value="{{recordid}}" class="span6" readonly id="RecordId" name="RecordId" />

      <label>Name</label>
      <input type="text" value="{{name}}" class="span6" id="Name" name="Name" />

      <label>Role</label>
      <input type="text" value="{{role}}" class="span6" id="Role" name="Role" />

      <label>Age</label>
      <input type="text" value="{{age}}" class="span6" id="Age" name="Age" />

      <label>Blog Page</label>
      <input type="text" value="{{blogpage}}" class="span6" id="BlogPage" name="BlogPage" />

      <label>Department</label>
      <input type="text" value="{{department}}" class="span6" id="Department" name="Department" />

      <label>Twitter Handle</label>
      <div class="input-prepend">
        <span class="add-on">@</span>
        <input type="text" value="{{twitterhandle}}" class="span6" id="TwitterHandle" name="TwitterHandle" />
      </div>

      <label>Email address</label>
      <input type="text" value="{{email}}" class="span6" id="EMail" name="EMail" />

      <label>Telephone number</label>
      <input type="text" value="{{telephone}}" class="span6" id="Telephone" name="Telephone" />

      <label>Notes</label>
      <textarea rows="10" class="span6" id="Notes" name="Notes">{{notes}}</textarea>
      
      <br /><br />
      
      <button type="submit" class="btn btn-success">Save</button>
      <button type="button" class="btn btn-danger" on-click="{{cancelClick}}">Cancel</button>

    </form>

  </template>
  <script>
    Polymer('ds-personfulledit', {
      recordid: 0,
      age: 0,
      name: "Undefined",
      role: "Undefined",
      contactpic: "",
      blogpage: "Undefined",
      twitterhandle: "Undefined",
      department: "Undefined",
      email: "Undefined",
      telephone: "Undefined",
      notes: "Undefined",
      saveurl: "",
      cancelurl: "",
      pagebase: "/",
      applyAuthorStyles: true, // Allow use of styles from the parent (In this case bootstrap)

      cancelClick: function (event, detail, sender)
      {
        if (this.cancelurl === "")
        {
          alert('PERSON FULL EDIT: No cancel url defined.');
          return;
        }
        document.location.href = this.cancelurl;
      },

      formSubmit: function (event, detail, sender)
      {
        if (this.saveurl === "")
        {
          event.preventDefault();
          alert('PERSON FULL EDIT: No save url defined.');
          return false;
        }
        
        return true;
      }

    });
</script>
</polymer-element>
